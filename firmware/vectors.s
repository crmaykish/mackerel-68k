    .align 2

    .equ MFP_GPDR, 0x3F0001

    .section .vectors, #alloc

    .long 0x80000               | Initial stack pointer
    .long _start                | Program counter value
    .long unhandled_int | 0x02
    .long unhandled_int | 0x03
    .long unhandled_int | 0x04
    .long unhandled_int | 0x05
    .long unhandled_int | 0x06
    .long unhandled_int | 0x07
    .long unhandled_int | 0x08
    .long unhandled_int | 0x09
    .long unhandled_int | 0x0A
    .long unhandled_int | 0x0B
    .long unhandled_int | 0x0C
    .long unhandled_int | 0x0D
    .long unhandled_int | 0x0E
    .long unhandled_int | 0x0F
    .long unhandled_int | 0x10
    .long unhandled_int | 0x11
    .long unhandled_int | 0x12
    .long unhandled_int | 0x13
    .long unhandled_int | 0x14
    .long unhandled_int | 0x15
    .long unhandled_int | 0x16
    .long unhandled_int | 0x17
    .long unhandled_int | 0x18
    .long unhandled_int | 0x19
    .long unhandled_int | 0x1A
    .long unhandled_int | 0x1B
    .long unhandled_int | 0x1C
    .long unhandled_int | 0x1D
    .long unhandled_int | 0x1E
    .long unhandled_int | 0x1F
    .long unhandled_int | 0x20
    .long unhandled_int | 0x21
    .long unhandled_int | 0x22
    .long unhandled_int | 0x23
    .long unhandled_int | 0x24
    .long unhandled_int | 0x25
    .long unhandled_int | 0x26
    .long unhandled_int | 0x27
    .long unhandled_int | 0x28
    .long unhandled_int | 0x29
    .long unhandled_int | 0x2A
    .long unhandled_int | 0x2B
    .long unhandled_int | 0x2C
    .long unhandled_int | 0x2D
    .long unhandled_int | 0x2E
    .long unhandled_int | 0x2F
    .long unhandled_int | 0x30
    .long unhandled_int | 0x31
    .long unhandled_int | 0x32
    .long unhandled_int | 0x33
    .long unhandled_int | 0x34
    .long unhandled_int | 0x35
    .long unhandled_int | 0x36
    .long unhandled_int | 0x37
    .long unhandled_int | 0x38
    .long unhandled_int | 0x39
    .long unhandled_int | 0x3A
    .long unhandled_int | 0x3B
    .long unhandled_int | 0x3C
    .long unhandled_int | 0x3D
    .long unhandled_int | 0x3E
    .long unhandled_int | 0x3F
    .long unhandled_int | 0x40
    .long unhandled_int | 0x41
    .long unhandled_int | 0x42
    .long unhandled_int | 0x43
    .long unhandled_int | 0x44
    .long unhandled_int | 0x45
    .long unhandled_int | 0x46
    .long unhandled_int | 0x47
    .long mfp_timer_b   | 0x48
    .long unhandled_int | 0x49
    .long unhandled_int | 0x4A
    .long unhandled_int | 0x4B
    .long unhandled_int | 0x4C
    .long unhandled_int | 0x4D
    .long unhandled_int | 0x4E
    .long unhandled_int | 0x4F
    .long unhandled_int | 0x50
    .long unhandled_int | 0x51
    .long unhandled_int | 0x52
    .long unhandled_int | 0x53
    .long unhandled_int | 0x54
    .long unhandled_int | 0x55
    .long unhandled_int | 0x56
    .long unhandled_int | 0x57
    .long unhandled_int | 0x58
    .long unhandled_int | 0x59
    .long unhandled_int | 0x5A
    .long unhandled_int | 0x5B
    .long unhandled_int | 0x5C
    .long unhandled_int | 0x5D
    .long unhandled_int | 0x5E
    .long unhandled_int | 0x5F
    .long unhandled_int | 0x60
    .long unhandled_int | 0x61
    .long unhandled_int | 0x62
    .long unhandled_int | 0x63
    .long unhandled_int | 0x64
    .long unhandled_int | 0x65
    .long unhandled_int | 0x66
    .long unhandled_int | 0x67
    .long unhandled_int | 0x68
    .long unhandled_int | 0x69
    .long unhandled_int | 0x6A
    .long unhandled_int | 0x6B
    .long unhandled_int | 0x6C
    .long unhandled_int | 0x6D
    .long unhandled_int | 0x6E
    .long unhandled_int | 0x6F
    .long unhandled_int | 0x70
    .long unhandled_int | 0x71
    .long unhandled_int | 0x72
    .long unhandled_int | 0x73
    .long unhandled_int | 0x74
    .long unhandled_int | 0x75
    .long unhandled_int | 0x76
    .long unhandled_int | 0x77
    .long unhandled_int | 0x78
    .long unhandled_int | 0x79
    .long unhandled_int | 0x7A
    .long unhandled_int | 0x7B
    .long unhandled_int | 0x7C
    .long unhandled_int | 0x7D
    .long unhandled_int | 0x7E
    .long unhandled_int | 0x7F
    .long unhandled_int | 0x80
    .long unhandled_int | 0x81
    .long unhandled_int | 0x82
    .long unhandled_int | 0x83
    .long unhandled_int | 0x84
    .long unhandled_int | 0x85
    .long unhandled_int | 0x86
    .long unhandled_int | 0x87
    .long unhandled_int | 0x88
    .long unhandled_int | 0x89
    .long unhandled_int | 0x8A
    .long unhandled_int | 0x8B
    .long unhandled_int | 0x8C
    .long unhandled_int | 0x8D
    .long unhandled_int | 0x8E
    .long unhandled_int | 0x8F
    .long unhandled_int | 0x90
    .long unhandled_int | 0x91
    .long unhandled_int | 0x92
    .long unhandled_int | 0x93
    .long unhandled_int | 0x94
    .long unhandled_int | 0x95
    .long unhandled_int | 0x96
    .long unhandled_int | 0x97
    .long unhandled_int | 0x98
    .long unhandled_int | 0x99
    .long unhandled_int | 0x9A
    .long unhandled_int | 0x9B
    .long unhandled_int | 0x9C
    .long unhandled_int | 0x9D
    .long unhandled_int | 0x9E
    .long unhandled_int | 0x9F
    .long unhandled_int | 0xA0
    .long unhandled_int | 0xA1
    .long unhandled_int | 0xA2
    .long unhandled_int | 0xA3
    .long unhandled_int | 0xA4
    .long unhandled_int | 0xA5
    .long unhandled_int | 0xA6
    .long unhandled_int | 0xA7
    .long unhandled_int | 0xA8
    .long unhandled_int | 0xA9
    .long unhandled_int | 0xAA
    .long unhandled_int | 0xAB
    .long unhandled_int | 0xAC
    .long unhandled_int | 0xAD
    .long unhandled_int | 0xAE
    .long unhandled_int | 0xAF
    .long unhandled_int | 0xB0
    .long unhandled_int | 0xB1
    .long unhandled_int | 0xB2
    .long unhandled_int | 0xB3
    .long unhandled_int | 0xB4
    .long unhandled_int | 0xB5
    .long unhandled_int | 0xB6
    .long unhandled_int | 0xB7
    .long unhandled_int | 0xB8
    .long unhandled_int | 0xB9
    .long unhandled_int | 0xBA
    .long unhandled_int | 0xBB
    .long unhandled_int | 0xBC
    .long unhandled_int | 0xBD
    .long unhandled_int | 0xBE
    .long unhandled_int | 0xBF
    .long unhandled_int | 0xC0
    .long unhandled_int | 0xC1
    .long unhandled_int | 0xC2
    .long unhandled_int | 0xC3
    .long unhandled_int | 0xC4
    .long unhandled_int | 0xC5
    .long unhandled_int | 0xC6
    .long unhandled_int | 0xC7
    .long unhandled_int | 0xC8
    .long unhandled_int | 0xC9
    .long unhandled_int | 0xCA
    .long unhandled_int | 0xCB
    .long unhandled_int | 0xCC
    .long unhandled_int | 0xCD
    .long unhandled_int | 0xCE
    .long unhandled_int | 0xCF
    .long unhandled_int | 0xD0
    .long unhandled_int | 0xD1
    .long unhandled_int | 0xD2
    .long unhandled_int | 0xD3
    .long unhandled_int | 0xD4
    .long unhandled_int | 0xD5
    .long unhandled_int | 0xD6
    .long unhandled_int | 0xD7
    .long unhandled_int | 0xD8
    .long unhandled_int | 0xD9
    .long unhandled_int | 0xDA
    .long unhandled_int | 0xDB
    .long unhandled_int | 0xDC
    .long unhandled_int | 0xDD
    .long unhandled_int | 0xDE
    .long unhandled_int | 0xDF
    .long unhandled_int | 0xE0
    .long unhandled_int | 0xE1
    .long unhandled_int | 0xE2
    .long unhandled_int | 0xE3
    .long unhandled_int | 0xE4
    .long unhandled_int | 0xE5
    .long unhandled_int | 0xE6
    .long unhandled_int | 0xE7
    .long unhandled_int | 0xE8
    .long unhandled_int | 0xE9
    .long unhandled_int | 0xEA
    .long unhandled_int | 0xEB
    .long unhandled_int | 0xEC
    .long unhandled_int | 0xED
    .long unhandled_int | 0xEE
    .long unhandled_int | 0xEF
    .long unhandled_int | 0xF0
    .long unhandled_int | 0xF1
    .long unhandled_int | 0xF2
    .long unhandled_int | 0xF3
    .long unhandled_int | 0xF4
    .long unhandled_int | 0xF5
    .long unhandled_int | 0xF6
    .long unhandled_int | 0xF7
    .long unhandled_int | 0xF8
    .long unhandled_int | 0xF9
    .long unhandled_int | 0xFA
    .long unhandled_int | 0xFB
    .long unhandled_int | 0xFC
    .long unhandled_int | 0xFD
    .long unhandled_int | 0xFE
    .long interrupt_ff  | 0xFF

    .section .text

unhandled_int:
    move.b #0x55, MFP_GPDR
    rte

mfp_timer_b:
    addi.b #0x01, MFP_GPDR
    rte

interrupt_ff:
    move.b #0xFF, MFP_GPDR
    rte
